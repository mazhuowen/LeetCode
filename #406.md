[toc]


```java
class Solution {
    public int[][] reconstructQueue(int[][] people) {
        if (people == null || people.length == 0) return people;

        // 查找起始人（在计数为0中身高最低的人）
        int head = -1;
        for (int i = 0; i < people.length; i++) {
            if (people[i][1] == 0 && (head == -1 || people[i][0] < people[head][0])) {
                head = i;
            }
        }
        int idx = 0;
        boolean[] visited = new boolean[people.length];
        int[][] res = new int[people.length][2];
        res[idx++] = people[head];
        visited[head] = true;

        for (;idx < people.length; idx++) {
            int temp = -1;
            for (int i = 0; i < people.length; i++) {
                if (visited[i]) continue;
                if (count(res, idx, people[i][0]) == people[i][1]) {
                    if (temp == -1 || people[i][0] < people[temp][0]) {
                        temp = i;
                    }
                }
            }
            res[idx] = people[temp];
            visited[temp] = true;
        }
        return res;
    }

    private int count(int[][] people, int end, int target) {
        int count = 0;
        for (int i = 0; i < end; i++) {
            if (people[i][0] >= target) count++;
        }
        return count;
    }
}
```



```java
class Solution {
    public int[][] reconstructQueue(int[][] people) {
        if (people == null || people.length == 0) return people;

        // 查找起始人（在计数为0中身高最低的人）
        for (int i = 0; i < people.length; i++) {
            boolean flag = true;
            for (int j = i; j < people.length; j++) {
                if (count(people, i, people[j][0]) == people[j][1]) {
                    if (flag || people[j][0] < people[i][0]) {
                        swap(people, i, j);
                        flag = false;
                    }
                }
            }
        }
        return people;
    }

    private int count(int[][] people, int end, int target) {
        int count = 0;
        for (int i = 0; i < end; i++) {
            if (people[i][0] >= target) count++;
        }
        return count;
    }

    private void swap(int[][] people, int i, int j) {
        int[] temp = people[i];
        people[i] = people[j];
        people[j] = temp;
    }
}
```

```java
class Solution {
    public int[][] reconstructQueue(int[][] people) {
        if (people == null || people.length == 0) return people;

        Arrays.sort(people, (a, b) -> a[0] == b[0] ? a[1] - b[1] : b[0] - a[0]);

        List<int[]> temp = new LinkedList<>();
        for (int[] p : people) temp.add(p[1], p);
        return temp.toArray(new int[people.length][2]);
    }
}
```
