[toc]

```java
class Solution {
    public int singleNonDuplicate(int[] nums) {
        if (nums == null || nums.length == 0) throw new IllegalArgumentException("invalid param");

        // nums.length为标识位置，因为最终right停留在不重复数字的后面
        // 如果不重复数字就在最后，则会造成误判
        int left = 0, right = nums.length;
        while (left < right) {
            int mid = left + (right - left) / 2;
            // 定位到相同数字的第一个数字
            if (mid - 1 >= 0 && nums[mid] == nums[mid - 1]) mid--;

            // 第一个数字索引为奇数，表示不重复数在前面
            if (mid % 2 == 1) {
                right = mid;
            }
            // 为偶数，在后面
            else {
                // 由于mid可能减一操作，需要判断，left定位到下一个数字，否则会造成死循环
                left = mid + (mid + 1 < nums.length && nums[mid] == nums[mid + 1] ? 2 : 1);
            }
        }
        return nums[left - 1];
    }
}
```
