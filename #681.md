[toc]

```java
class Solution {
    public String nextClosestTime(String time) {
        if (time == null || time.length() != 5) throw new IllegalArgumentException("invalid param");

        char[] times = time.toCharArray();
        int[] record = new int[4];
        record[0] = times[0] - '0'; record[1] = times[1] - '0'; record[2] = times[3] - '0'; record[3] = times[4] - '0';

        Arrays.sort(record);
        int greater = search(record, times[4] - '0');
        if (greater != -1) {
            times[4] = (char)(record[greater] + '0');
            return new String(times);
        }
        greater = search(record, times[3] - '0');
        if (greater != -1 && record[greater] < 6) {
            times[3] = (char)(record[greater] + '0');
            times[4] = (char)(record[0] + '0');
            return new String(times);
        }
        greater = search(record, times[1] - '0');
        if (greater != -1 && (times[0] <= '1' || record[greater] < 5)) {
            times[1] = (char)(record[greater] + '0');
            times[3] = (char)(record[0] + '0');
            times[4] = (char)(record[0] + '0');
            return new String(times);
        }
        greater = search(record, times[0] - '0');
        if (greater != -1 && record[greater] < 3) {
            times[0] = (char)(record[greater] + '0');
            times[1] = (char)(record[0] + '0');
            times[3] = (char)(record[0] + '0');
            times[4] = (char)(record[0] + '0');
            return new String(times);
        }
        times[0] = (char)(record[0] + '0');
        times[1] = (char)(record[0] + '0');
        times[3] = (char)(record[0] + '0');
        times[4] = (char)(record[0] + '0');
        return new String(times);
    }

    private int search(int[] nums, int target) {
        for (int i = 0; i < 4; i++) {
            if (nums[i] > target) return i;
        }
        return -1;
    }
}
```
